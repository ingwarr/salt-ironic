{# TODO(Ingwarr) make conditions for standalone and cloud cases for services #}
{% set server = salt['grains.filter_by']({
    'Debian': {
        'pkgs': ['ipmitool', 'python-libvirt', 'ironic-api', 'ironic-conductor', 'python-ironicclient'],
        'services': ['ironic-api', 'ironic-conductor'],
        'notification': False,
        'identity': {
            'engine': 'noauth',
            'region': 'RegionOne',
        },
    },
    'RedHat': {
        'pkgs': ['ipmitool', 'python-libvirt', 'ironic-api', 'ironic-conductor', 'python-ironicclient'],
        'services': ['ironic-api', 'ironic-conductor'],
        'notification': False,
        'identity': {
            'engine': 'noauth',
            'region': 'RegionOne',
        },
    },
}, merge=pillar.ironic.get('server', {})) %}
